(this["webpackJsonpSPA-users-albums-and-posts"]=this["webpackJsonpSPA-users-albums-and-posts"]||[]).push([[0],{33:function(e,t,s){},34:function(e,t,s){"use strict";s.r(t);var c=s(1),n=s.n(c),a=s(19),i=s.n(a),r=s(5),o=s(22),l=s(7),u=s(3),m=s(20),j=new function e(t){var s=this;Object(m.a)(this,e),this.getUsers=function(){return fetch(s.baseUrl+"/users",{headers:s.headers}).then((function(e){return e.ok?e.json():Promise.reject(e.status)}))},this.getAlbums=function(){return fetch(s.baseUrl+"/albums",{headers:s.headers}).then((function(e){return e.ok?e.json():Promise.reject(e.status)}))},this.getPhotos=function(){return fetch(s.baseUrl+"/photos",{headers:s.headers}).then((function(e){return e.ok?e.json():Promise.reject(e.status)}))},this.getPosts=function(){return fetch(s.baseUrl+"/posts",{headers:s.headers}).then((function(e){return e.ok?e.json():Promise.reject(e.status)}))},this.postMessage=function(e){var t=e.userName,c=e.userId,n=e.title,a=e.body;return fetch(s.baseUrl+"/posts",{method:"POST",headers:s.headers,body:JSON.stringify({userName:t,userId:c,title:n,body:a})}).then((function(e){return e.ok?e.json():Promise.reject(e.status)}))},this.baseUrl=t.baseUrl,this.headers=t.headers}({baseUrl:"https://jsonplaceholder.typicode.com",headers:{"Content-Type":"application/json"}}),b=s(0);var h=function(){var e=Object(u.g)().url;return Object(b.jsxs)("div",{className:"home-container",children:[Object(b.jsx)("h1",{className:"home-container__title",children:"\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u043f\u043e\u0441\u0442\u043e\u0432, \u0430\u043b\u044c\u0431\u043e\u043c\u043e\u0432 \u0438 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u0445"}),Object(b.jsx)(r.b,{className:"button home-container__button",to:"".concat(e,"users"),children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"}),Object(b.jsx)(r.b,{className:"button home-container__button",to:"".concat(e,"posts"),children:"\u041f\u043e\u0441\u0442\u044b"}),Object(b.jsx)(r.b,{className:"button home-container__button",to:"".concat(e,"albums"),children:"\u0410\u043b\u044c\u0431\u043e\u043c\u044b"})]})},d=n.a.memo((function(e){var t=e.user,s="".concat(t.address.street,", ").concat(t.address.suite,", ").concat(t.address.city,", ").concat(t.address.zipcode),c="".concat(t.company.name," (catchPhrase: ").concat(t.company.catchPhrase,", bs: ").concat(t.company.bs,")");return Object(b.jsxs)("li",{className:"user-item",children:[Object(b.jsxs)("p",{className:"user-item__text",children:[Object(b.jsx)("span",{className:"user-item__text-appellation",children:"\u0418\u043c\u044f: "}),t.name]}),Object(b.jsxs)("p",{className:"user-item__text",children:[Object(b.jsx)("span",{className:"user-item__text-appellation",children:"\u041d\u0438\u043a: "}),t.username]}),Object(b.jsxs)("p",{className:"user-item__text",children:[Object(b.jsx)("span",{className:"user-item__text-appellation",children:"E-mail: "}),t.email]}),Object(b.jsxs)("p",{className:"user-item__text",children:[Object(b.jsx)("span",{className:"user-item__text-appellation",children:"\u0410\u0434\u0440\u0435\u0441: "}),s]}),Object(b.jsxs)("p",{className:"user-item__text",children:[Object(b.jsx)("span",{className:"user-item__text-appellation",children:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430: "}),t.phone]}),Object(b.jsxs)("p",{className:"user-item__text",children:[Object(b.jsx)("span",{className:"user-item__text-appellation",children:"\u0412\u0435\u0431-\u0441\u0430\u0439\u0442: "}),t.website]}),Object(b.jsxs)("p",{className:"user-item__text",children:[Object(b.jsx)("span",{className:"user-item__text-appellation",children:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f: "}),c]})]})})),p=n.a.memo((function(e){var t=e.users,s=e.getUsers;return n.a.useEffect((function(){s()}),[]),Object(b.jsx)("ul",{className:"user-list",children:t.map((function(e,t){return Object(b.jsx)(d,{user:e},e.id)}))})})),x=s.p+"static/media/user.28e44cb7.png",O=n.a.memo((function(e){var t=e.post;return Object(b.jsxs)("li",{className:"post-item",children:[Object(b.jsxs)("div",{className:"post-item__title-container",children:[Object(b.jsx)("img",{className:"post-item__user-icon",src:x}),Object(b.jsx)("h2",{className:"post-item__title",children:t.ownerName||t.userName||""})]}),Object(b.jsx)("p",{className:"post-item__message-subject",children:t.title}),Object(b.jsx)("p",{className:"post-item__text",children:t.body})]})})),_=n.a.memo((function(e){var t=e.posts,s=e.setPostOwner,c=e.getPostsData;return n.a.useEffect((function(){c()}),[]),Object(b.jsx)("ul",{className:"user-list",children:t.map((function(e,t){return s(e),Object(b.jsx)(O,{post:e},e.id)}))})}));var f=function(e){var t=e.album,s=e.onAlbumClick,c=Object(u.g)().url;return Object(b.jsx)(r.b,{onClick:function(){s("".concat(t.ownerName))},className:"albums-item__link",to:"".concat(c,"/").concat(t.id),children:Object(b.jsxs)("li",{className:"albums-item",children:[Object(b.jsxs)("div",{className:"albums-item__title-container",children:[Object(b.jsx)("img",{className:"albums-item__user-icon",src:x}),Object(b.jsx)("h2",{className:"albums-item__title",children:t.ownerName})]}),Object(b.jsx)("p",{className:"albums-item__description",children:t.title})]})})},N=n.a.memo((function(e){var t=e.albums,s=e.setAlbumOwner,c=e.getAlbumsData,a=e.onAlbumClick;return n.a.useEffect((function(){c()}),[]),Object(b.jsx)("ul",{className:"album-list",children:t.map((function(e,t){return s(e),Object(b.jsx)(f,{onAlbumClick:a,album:e},e.id)}))})})),g=n.a.memo((function(e){var t=e.photo;return Object(b.jsxs)("li",{className:"photo-item",children:[Object(b.jsx)("img",{className:"photo-item__img",src:t.url,alt:""}),Object(b.jsx)("p",{className:"photo-item__description",children:t.title})]})})),v=n.a.memo((function(e){var t=e.photos,s=e.getPhotos,c=e.currentAlbumOwner,a=Object(u.f)().id,i=t.filter((function(e){return e.albumId==a}));return n.a.useEffect((function(){s()}),[]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h2",{className:"section-title",children:c}),Object(b.jsx)("ul",{className:"photo-list",children:i.map((function(e,t){return Object(b.jsx)(g,{photo:e},e.id)}))})]})}));var P=function(e){var t=e.onAddPost,s=n.a.useState(""),c=Object(l.a)(s,2),a=c[0],i=c[1],r=n.a.useState(""),o=Object(l.a)(r,2),u=o[0],m=o[1],j=n.a.useState(""),h=Object(l.a)(j,2),d=h[0],p=h[1];return Object(b.jsxs)("form",{className:"post-form",onSubmit:function(e){e.preventDefault(),t({userName:a,userId:null,title:d,body:u})},name:"postForm",children:[Object(b.jsx)("input",{value:a,onChange:function(e){i(e.target.value)},id:"name",type:"text",name:"name",className:"post-form__input",placeholder:"\u0418\u043c\u044f",required:!0,minLength:"2",maxLength:"30"}),Object(b.jsx)("input",{value:d,onChange:function(e){p(e.target.value)},id:"title",type:"text",name:"title",className:"post-form__input",placeholder:"\u0422\u0435\u043c\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",required:!0,minLength:"2",maxLength:"30"}),Object(b.jsx)("textarea",{value:u,onChange:function(e){m(e.target.value)},id:"message",type:"text",name:"message",className:"post-form__message-input",placeholder:"\u0422\u0435\u043a\u0441\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",required:!0,minLength:"2",maxLength:"1000"}),Object(b.jsx)("button",{className:"button post-form__button",children:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"})]})};var A=function(){var e=Object(u.g)().url;return Object(b.jsx)("nav",{className:"menu",children:Object(b.jsxs)("ul",{className:"menu__list",children:[Object(b.jsx)("li",{className:"menu__list-item",children:Object(b.jsx)(r.c,{exact:!0,className:"menu__item",activeClassName:"menu__item_active",to:"".concat(e,"users"),children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"})}),Object(b.jsx)("li",{className:"menu__list-item",children:Object(b.jsx)(r.c,{className:"menu__item",activeClassName:"menu__item_active",to:"".concat(e,"posts"),children:"\u041f\u043e\u0441\u0442\u044b"})}),Object(b.jsx)("li",{className:"menu__list-item",children:Object(b.jsx)(r.c,{className:"menu__item",activeClassName:"menu__item_active",to:"".concat(e,"albums"),children:"\u0410\u043b\u044c\u0431\u043e\u043c\u044b"})})]})})};var S=function(){var e=Object(u.g)(),t=e.path,s=(e.url,n.a.useState([])),c=Object(l.a)(s,2),a=c[0],i=c[1],m=n.a.useState([]),d=Object(l.a)(m,2),x=d[0],O=d[1],f=n.a.useState([]),g=Object(l.a)(f,2),S=g[0],y=g[1],w=n.a.useState([]),C=Object(l.a)(w,2),k=C[0],U=C[1],I=n.a.useState(""),L=Object(l.a)(I,2),F=L[0],D=L[1];function E(){j.getUsers().then((function(e){i(e)})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e))}))}return Object(b.jsxs)("div",{className:"root",children:[Object(b.jsxs)("header",{className:"header",children:[Object(b.jsx)(r.b,{className:"logo",to:"/",children:"SinglePageApplication"}),Object(b.jsx)(A,{})]}),Object(b.jsxs)(u.c,{children:[Object(b.jsx)(u.a,{exact:!0,path:"/",children:Object(b.jsx)(h,{})}),Object(b.jsx)(u.a,{path:"".concat(t,"users"),children:Object(b.jsx)(p,{getUsers:E,users:a})}),Object(b.jsxs)(u.a,{path:"".concat(t,"posts"),children:[Object(b.jsx)(P,{onAddPost:function(e){j.postMessage(e).then((function(e){O([].concat(Object(o.a)(x),[e]))})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e))}))}}),Object(b.jsx)(_,{getPostsData:function(){E(),j.getPosts().then((function(e){O(e)})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e))}))},setPostOwner:function(e){var t=a.find((function(t){return t.id===e.userId}));t?e.ownerName=t.name:console.log("\u0438\u043c\u044f \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430 \u043f\u043e\u0441\u0442\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e")},posts:x})]}),Object(b.jsx)(u.a,{exact:!0,path:"".concat(t,"albums"),children:Object(b.jsx)(N,{onAlbumClick:D,getAlbumsData:function(){E(),j.getAlbums().then((function(e){y(e)})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e))}))},setAlbumOwner:function(e){var t=a.find((function(t){return t.id===e.userId}));t?e.ownerName=t.name:console.log("\u0438\u043c\u044f \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430 \u0430\u043b\u044c\u0431\u043e\u043c\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e")},albums:S})}),Object(b.jsx)(u.a,{exact:!0,path:"".concat(t,"albums/:id"),children:Object(b.jsx)(v,{getPhotos:function(){j.getPhotos().then((function(e){U(e)})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e))}))},photos:k,currentAlbumOwner:F})}),Object(b.jsx)(u.a,{path:"*",children:Object(b.jsx)("p",{children:"Not Found"})})]})]})},y=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,35)).then((function(t){var s=t.getCLS,c=t.getFID,n=t.getFCP,a=t.getLCP,i=t.getTTFB;s(e),c(e),n(e),a(e),i(e)}))};s(33);i.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(r.a,{basename:"/SPA-users-albums-and-posts",children:Object(b.jsx)(S,{})})}),document.getElementById("root")),y()}},[[34,1,2]]]);
//# sourceMappingURL=main.08f5d112.chunk.js.map